<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch Taxi Driver - DramaKan</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ¬</text></svg>">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <header class="main-header">
        <a href="index.html" class="logo">Drama<span>Kan</span></a>
    </header>

    <main class="container">
        <div class="watch-layout" data-total-episodes="34">
            <div class="main-content-col">
                <div class="video-player-container">
                    <iframe 
                        id="video-player-iframe"
                        src="" 
                        title="Video Player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        allowfullscreen>
                    </iframe>
                </div>

                <div class="episode-meta">
                    <h1 class="episode-title" id="current-episode-title">You are watching Episode 1</h1>
                    <div class="episode-actions">
                        <button class="action-btn" id="prev-ep-btn"><i class="fas fa-arrow-left"></i>Prev</button>
                        <button class="action-btn" id="next-ep-btn">Next<i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <div class="widget episodes-list-widget">
                    <h2 class="widget-title">Episodes</h2>
                    <div class="episodes-list" id="episodes-list-container">
                        </div>
                </div>
                
                <div class="widget download-widget">
                    <h2 class="widget-title">Downloads</h2>
                    <div class="download-list">
                        <table>
                            <thead>
                                <tr><th>Episode</th><th>Quality</th><th>Video</th><th>Subtitles</th></tr>
                            </thead>
                            <tbody id="download-links-tbody">
                                </tbody>
                        </table>
                    </div>
                </div>

                <div class="widget cast-section">
                    <h2 class="widget-title">Cast (Season 1 Focus)</h2>
                    <div class="cast-list-wrapper">
                        <div class="cast-list">
                            <div class="cast-card">
                                <img src="" alt="Lee Je-hoon Placeholder">
                                <div class="cast-info"><h4 class="actor-name">Lee Je-hoon</h4><p class="character-name">Kim Do-gi</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="" alt="Esom Placeholder">
                                <div class="cast-info"><h4 class="actor-name">Esom</h4><p class="character-name">Kang Ha-na (S1)</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="" alt="Kim Eui-sung Placeholder">
                                <div class="cast-info"><h4 class="actor-name">Kim Eui-sung</h4><p class="character-name">Jang Sung-chul</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="" alt="Pyo Ye-jin Placeholder">
                                <div class="cast-info"><h4 class="actor-name">Pyo Ye-jin</h4><p class="character-name">Go Eun</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="" alt="Cha Ji-yeon Placeholder">
                                <div class="cast-info"><h4 class="actor-name">Cha Ji-yeon</h4><p class="character-name">Baek Sung-mi (S1)</p></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="widget comments-widget">
                     <div class="comments-header">
                        <h2 class="widget-title">Comments (<span id="comment-count">1</span>)</h2>
                     </div>
                     <form class="comment-form" id="comment-form">
                        <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="Guest Avatar">
                        <textarea placeholder="Join the discussion..." required></textarea>
                        <button type="submit" aria-label="Post Comment"><i class="fas fa-paper-plane"></i></button>
                     </form>
                     <div class="comments-list" id="comments-list-container">
                        <div class="comment">
                            <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="User Avatar">
                            <div class="comment-content">
                                <p class="comment-author">VigilanteJustice <span>- 2 days ago</span></p>
                                <p class="comment-text">The action and cinematography are incredible. This show delivers the satisfaction that real-life justice often misses!</p>
                                <div class="comment-actions">
                                    <a href="#"><i class="fas fa-thumbs-up"></i> 0</a>
                                    <a href="#"><i class="fas fa-reply"></i> Reply</a>
                                </div>
                            </div>
                        </div>
                     </div>
                </div>
            </div>

            <div class="sidebar-col">
                <div class="widget drama-info-widget">
                    <div class="info-poster"><img src="" alt="Taxi Driver Poster"></div>
                    <h2 class="info-title">Taxi Driver (Seasons 1 & 2)</h2>
                    <p class="info-synopsis truncated" id="synopsis-text">Kim Do-gi is a mysterious and highly skilled taxi driver working for the Rainbow Taxi Company. This company isn't just a taxi service; it's a secret organization that offers a "revenge-for-hire" service to victims who have been failed by the legal system. Do-gi, a former UDT officer whose life was shattered by a tragic loss, serves as the primary operative, expertly executing elaborate revenge plans. Guided by CEO Jang Sung-chul and supported by their talented tech team, they fight against social injustice across both Korea and internationally, while prosecutor Kang Ha-na (Season 1) and others pursue them, determined to uphold the official rule of law.</p>
                    <a id="read-more-btn" class="read-more-btn">Read More</a>
                    <div class="info-details">
                        <p><span>Type:</span> K-Drama (Multiple Seasons)</p><p><span>Studio:</span> Studio S, Group 8</p><p><span>Aired:</span> Apr 9, 2021 â€“ Apr 15, 2023</p><p><span>Status:</span> Finished (S1 & S2)</p><p><span>Score:</span> 8.5/10</p><p><span>Duration:</span> 1h 10m</p><p><span>Genres:</span> Action, Thriller, Crime, Vigilante</p>
                    </div>
                </div>
                <div class="widget recommendations-widget">
                    <h2 class="widget-title">You Might Also Like</h2>
                    <div class="recommendations-list">
                        <a href="vincenzo.html" class="rec-card">
                            <img src="" alt="Vincenzo">
                            <div class="rec-card-info"><p class="rec-title">Vincenzo</p><p class="rec-meta">K-Drama â€¢ Finished</p></div>
                        </a>
                        <a href="extracurricular.html" class="rec-card">
                            <img src="" alt="Extracurricular">
                            <div class="rec-card-info"><p class="rec-title">Extracurricular</p><p class="rec-meta">K-Drama â€¢ Finished</p></div>
                        </a>
                        <a href="lawless_lawyer.html" class="rec-card">
                            <img src="" alt="Lawless Lawyer">
                            <div class="rec-card-info"><p class="rec-title">Lawless Lawyer</p><p class="rec-meta">K-Drama â€¢ Finished</p></div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 DramaKan. All rights reserved.</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        
        // Episode data for "Taxi Driver" - Total 34 episodes (S1: 16, S2: 18 including 2 specials)
        const episodeData = [
            { number: 1, title: 'S1 E1: Rainbow Taxi Service', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=1', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 2, title: 'S1 E2: Vengeance for Hire', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=2', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 3, title: 'S1 E3: The School Bullies', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=3', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 4, title: 'S1 E4: The High School Case', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=4', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 5, title: 'S1 E5: Udata Case Begins', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=5', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 6, title: 'S1 E6: Inside Udata', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=6', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 7, title: 'S1 E7: Data Destruction', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=7', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 8, title: 'S1 E8: The Chairman\'s Trap', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=8', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 9, title: 'S1 E9: Voice Phishing Scam', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=9', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 10, title: 'S1 E10: Madam Lim\'s Operation', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=10', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 11, title: 'S1 E11: New Client, Old Enemy', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=11', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 12, title: 'S1 E12: Prosecutor Kang\'s Request', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=12', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 13, title: 'S1 E13: Baek Sung-mi Confrontation', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=13', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 14, title: 'S1 E14: The Final Showdown', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=14', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 15, title: 'S1 E15: Disbandment and Killer Reveal', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=15', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 16, title: 'S1 E16: The Justice Crew (S1 Finale)', videoUrl: 'https://multiembed.mov/?video_id=tt14051010&s=1&e=16', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            // Season 2 Episodes
            { number: 17, title: 'S2 E1: The Return of Rainbow Taxi', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=1', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 18, title: 'S2 E2: Overseas Vengeance (Vietnam)', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=2', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 19, title: 'S2 E3: Episode 3', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=3', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 20, title: 'S2 E4: Episode 4', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=4', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 21, title: 'S2 E5: Episode 5', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=5', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 22, title: 'S2 E6: Episode 6', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=6', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 23, title: 'S2 E7: Episode 7', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=7', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 24, title: 'S2 E8: Episode 8', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=8', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 25, title: 'S2 E9: Episode 9', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=9', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 26, title: 'S2 E10: Episode 10', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=10', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 27, title: 'S2 E11: Episode 11', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=11', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 28, title: 'S2 E12: Episode 12', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=12', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 29, title: 'S2 E13: Episode 13', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=13', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 30, title: 'S2 E14: Episode 14', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=14', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 31, title: 'S2 E15: Episode 15', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=15', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 32, title: 'S2 E16: True Justice (S2 Finale)', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=16', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 33, title: 'S2 Special: Behind The Scenes 1', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=17', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 34, title: 'S2 Special: Interview & Extras', videoUrl: 'https://multiembed.mov/?video_id=tt26402321&s=2&e=18', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] }
        ];
        
        let currentEpisode = 1;
        const totalEpisodes = 34;

        const episodeListContainer = document.getElementById('episodes-list-container');
        const currentEpisodeTitle = document.getElementById('current-episode-title');
        const downloadLinksTbody = document.getElementById('download-links-tbody');
        const prevBtn = document.getElementById('prev-ep-btn');
        const nextBtn = document.getElementById('next-ep-btn');
        const videoPlayer = document.getElementById('video-player-iframe');

        function updateUI(episodeNumber) {
            currentEpisode = parseInt(episodeNumber, 10);
            const episode = episodeData.find(ep => ep.number === currentEpisode);
            if (episode && episode.videoUrl) { videoPlayer.src = episode.videoUrl; }
            currentEpisodeTitle.textContent = `You are watching Episode ${currentEpisode} (${episode.title})`;
            document.querySelectorAll('.episode-item').forEach(item => { item.classList.toggle('current', parseInt(item.dataset.episode, 10) === currentEpisode); });
            document.querySelector(`.episode-item[data-episode='${currentEpisode}']`)?.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            downloadLinksTbody.innerHTML = '';
            if (episode && episode.downloadLinks) {
                episode.downloadLinks.forEach(link => {
                    downloadLinksTbody.innerHTML += `
                        <tr>
                            <td data-label="Episode">Episode ${currentEpisode}</td>
                            <td data-label="Quality">${link.quality}</td>
                            <td data-label="Video"><a href="${link.url}" class="download-btn" target="_blank" rel="noopener noreferrer"><i class="fas fa-download"></i> Download</a></td>
                            <td data-label="Subtitles"><a href="${episode.subtitleUrl}" class="download-btn" target="_blank" rel="noopener noreferrer"><i class="fas fa-closed-captioning"></i> Download</a></td>
                        </tr>`;
                });
            }
            prevBtn.disabled = currentEpisode === 1;
            nextBtn.disabled = currentEpisode === totalEpisodes;
        }

        function generateEpisodeList() {
            for (let i = 1; i <= totalEpisodes; i++) {
                const episode = episodeData.find(ep => ep.number === i) || { number: i, title: `Episode ${i}` };
                episodeListContainer.innerHTML += `<a class="episode-item" data-episode="${episode.number}"><div class="ep-info"><p class="ep-number">Episode ${episode.number}</p><p class="ep-desc">${episode.title}</p></div></a>`;
            }
        }
        
        episodeListContainer.addEventListener('click', (e) => { const item = e.target.closest('.episode-item'); if (item) updateUI(item.dataset.episode); });
        prevBtn.addEventListener('click', () => { if (currentEpisode > 1) updateUI(currentEpisode - 1); });
        nextBtn.addEventListener('click', () => { if (currentEpisode < totalEpisodes) updateUI(currentEpisode + 1); });
        generateEpisodeList();
        updateUI(1);

        const synopsisText = document.getElementById('synopsis-text');
        const readMoreBtn = document.getElementById('read-more-btn');
        if (synopsisText && readMoreBtn) { readMoreBtn.addEventListener('click', (e) => { e.preventDefault(); synopsisText.classList.toggle('truncated'); readMoreBtn.textContent = synopsisText.classList.contains('truncated') ? 'Read More' : 'Read Less'; }); }

        const commentForm = document.getElementById('comment-form');
        const commentTextarea = commentForm.querySelector('textarea');
        const commentsListContainer = document.getElementById('comments-list-container');
        const commentCountSpan = document.getElementById('comment-count');
        // Placeholder Avatars - using a generic placeholder tag for consistency
        const customAvatars = [ '', '', '', '', '' ];

        commentForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const commentText = commentTextarea.value.trim();
            if (commentText === '') { return; }
            const randomAvatar = customAvatars[Math.floor(Math.random() * customAvatars.length)];
            const sanitizedText = commentText.replace(/</g, "&lt;").replace(/>/g, "&gt;");
            const newCommentHTML = `
                <div class="comment">
                    <img class="user-avatar" src="${randomAvatar}" alt="User Avatar">
                    <div class="comment-content">
                        <p class="comment-author">Guest <span>- just now</span></p>
                        <p class="comment-text">${sanitizedText}</p>
                        <div class="comment-actions">
                            <a href="#"><i class="fas fa-thumbs-up"></i> 0</a>
                            <a href="#"><i class="fas fa-reply"></i> Reply</a>
                        </div>
                    </div>
                </div>`;
            commentsListContainer.insertAdjacentHTML('beforeend', newCommentHTML);
            commentTextarea.value = '';
            commentCountSpan.textContent = parseInt(commentCountSpan.textContent) + 1;
        });
    });
    </script>

</body>
</html>