<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch In Her Charming Grasp (C-Drama) - DramaKan</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ¬</text></svg>">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="main-header">
        <a href="index.html" class="logo">Drama<span>Kan</span></a>
    </header>

    <main class="container">
        <div class="watch-layout" data-total-episodes="22">
            <div class="main-content-col">
                <div class="video-player-container">
                    <iframe 
                        id="video-player-iframe"
                        src="" 
                        title="Video Player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        allowfullscreen>
                    </iframe>
                </div>

                <div class="episode-meta">
                    <h1 class="episode-title" id="current-episode-title">Select an Episode</h1>
                    <div class="episode-actions">
                        <button class="action-btn" id="prev-ep-btn"><i class="fas fa-arrow-left"></i>Prev</button>
                        <button class="action-btn" id="next-ep-btn">Next<i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <div class="widget episodes-list-widget">
                    <h2 class="widget-title">Full Episode List</h2>
                    <div class="episodes-list" id="episodes-list-container">
                    </div>
                </div>
                
                <div class="widget download-widget">
                    <h2 class="widget-title">Download Links</h2>
                    <div class="download-list">
                        <table>
                            <thead>
                                <tr><th>Episode</th><th>Quality</th><th>Video</th><th>Subtitles</th></tr>
                            </thead>
                            <tbody id="download-links-tbody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="widget cast-section">
                    <h2 class="widget-title">Cast</h2>
                    <div class="cast-list-wrapper">
                        <div class="cast-list">
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/RBQgwo_5f.jpg" alt="Liu Yuhang">
                                <div class="cast-info"><h4 class="actor-name">Liu Yuhang</h4><p class="character-name">Lin Yuanzhou</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/RBQgwo_5f.jpg" alt="Guo Yuxin">
                                <div class="cast-info"><h4 class="actor-name">Guo Yuxin</h4><p class="character-name">Jiang Xian</p></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="widget comments-widget">
                     <div class="comments-header">
                        <h2 class="widget-title">Comments (<span id="comment-count">1</span>)</h2>
                     </div>
                     <form class="comment-form" id="comment-form">
                        <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="Guest Avatar">
                        <textarea placeholder="Join the discussion..." required></textarea>
                        <button type="submit" aria-label="Post Comment"><i class="fas fa-paper-plane"></i></button>
                     </form>
                     <div class="comments-list" id="comments-list-container">
                        <div class="comment">
                            <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="User Avatar">
                            <div class="comment-content">
                                <p class="comment-author">ShortDramaLover <span>- just now</span></p>
                                <p class="comment-text">The reversal from being a stand-in to a real obsession is so intense! Liu Yuhang plays the 'madman' CEO role so well.</p>
                                <div class="comment-actions">
                                    <a href="#"><i class="fas fa-thumbs-up"></i> 12</a>
                                    <a href="#"><i class="fas fa-reply"></i> Reply</a>
                                </div>
                            </div>
                        </div>
                     </div>
                </div>
            </div>

            <div class="sidebar-col">
                <div class="widget drama-info-widget">
                    <div class="info-poster"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQo7dhHIEo5bDaLBOwZzaaQpQxB1Gp5mDIHZw&s" alt="In Her Charming Grasp Poster"></div>
                    <h2 class="info-title">In Her Charming Grasp (æ€ªå¥¹å¤ªä¼šæ’’å¨‡)</h2>
                    <p class="info-synopsis truncated" id="synopsis-text">Jiang Xian (Guo Yuxin) becomes the talk of the city for her relentless pursuit of the elite Lin Yuanzhou (Liu Yuhang). While everyone assumes she is desperately in love, it is eventually revealed that she only treated him as a stand-in for someone else and never truly loved him. When Jiang Xian attempts to run away, the once-indifferent Lin Yuanzhou realizes he has fallen for her for real. Driven to madness by the betrayal, he obsessively binds her to his side, pleading for her genuine love.</p>
                    <a id="read-more-btn" class="read-more-btn">Read More</a>
                    <div class="info-details">
                        <p><span>Type:</span> C-Drama / Short Drama</p><p><span>Studio:</span> iQIYI</p><p><span>Episodes:</span> 22</p><p><span>Status:</span> Finished</p><p><span>Score:</span> 8.8/10</p><p><span>Genres:</span> Sweet Romance, CEO, Revenge, Love Reversal</p>
                    </div>
                </div>

                <div class="widget recommendations-widget">
                    <h2 class="widget-title">You Might Also Like</h2>
                    <div class="recommendations-list">
                        <a href="DeepAffectionEyes.html" class="rec-card">
                            <img src="https://m.media-amazon.com/images/M/MV5BZmRkOGUwZWYtN2YwMC00Zjc1LTg0ZWItN2FmNDE1YjM3MGQ2XkEyXkFqcGc@._V1_.jpg" alt="Deep Affection Eyes">
                            <div class="rec-card-info"><p class="rec-title">Deep Affection Eyes</p><p class="rec-meta">C-Drama â€¢ Trending</p></div>
                        </a>
                        <a href="MommysCounterattack.html" class="rec-card">
                            <img src="https://i.mydramalist.com/rNNkvg_4f.jpg" alt="Mommy's Counterattack">
                            <div class="rec-card-info"><p class="rec-title">Mommy's Counterattack</p><p class="rec-meta">C-Drama â€¢ Revenge Romance</p></div>
                        </a>
                        <a href="TwelveLetters.html" class="rec-card">
                            <img src="https://m.media-amazon.com/images/M/MV5BYzAyNGFmZDItMTYyZC00ZGFjLWIwOTItYmQwYTRmNGFkODVlXkEyXkFqcGc@._V1_.jpg" alt="Twelve Letters">
                            <div class="rec-card-info"><p class="rec-title">Twelve Letters</p><p class="rec-meta">C-Drama â€¢ Trending</p></div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 DramaKan. All rights reserved.</p>
    </footer>

 <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Complete constant episode data for all 22 episodes
        const episodeData = [
            { number: 1, title: 'The Stand-in Pursuit', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=1' },
            { number: 2, number: 2, title: 'Cold Indifference', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=2' },
            { number: 3, number: 3, title: 'The Wedding Scheme', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=3' },
            { number: 4, number: 4, title: 'Truth Revealed', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=4' },
            { number: 5, number: 5, title: 'Attempted Escape', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=5' },
            { number: 6, number: 6, title: 'Lin Yuanzhouâ€™s Obsession', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=6' },
            { number: 7, number: 7, title: 'Binding Contract', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=7' },
            { number: 8, number: 8, title: 'Hidden Past', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=8' },
            { number: 9, number: 9, title: 'Jealousy Ignites', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=9' },
            { number: 10, number: 10, title: 'The Mastermind', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=10' },
            { number: 11, number: 11, title: 'False Affection', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=11' },
            { number: 12, number: 12, title: 'Breakdown of Trust', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=12' },
            { number: 13, number: 13, title: 'The Cage of Love', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=13' },
            { number: 14, number: 14, title: 'Confronting the Rival', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=14' },
            { number: 15, number: 15, title: 'Sweet Poison', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=15' },
            { number: 16, number: 16, title: 'Broken Promises', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=16' },
            { number: 17, number: 17, title: 'Linâ€™s Madness', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=17' },
            { number: 18, number: 18, title: 'A Desperate Plea', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=18' },
            { number: 19, number: 19, title: 'The Ultimate Choice', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=19' },
            { number: 20, number: 20, title: 'Escape or Surrender', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=20' },
            { number: 21, number: 21, title: 'Reality Sets In', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=21' },
            { number: 22, number: 22, title: 'A Madmanâ€™s Plea (Grand Finale)', url: 'https://multiembed.mov/?video_id=tt31976074&s=1&e=22' }
        ];
        
        let currentIndex = 0;
        const totalEpisodes = 22;

        const episodeListContainer = document.getElementById('episodes-list-container');
        const currentEpisodeTitle = document.getElementById('current-episode-title');
        const downloadLinksTbody = document.getElementById('download-links-tbody');
        const prevBtn = document.getElementById('prev-ep-btn');
        const nextBtn = document.getElementById('next-ep-btn');
        const videoPlayer = document.getElementById('video-player-iframe');

        function updateUI(index) {
            currentIndex = index;
            const episode = episodeData[currentIndex];
            if (episode && episode.url) { videoPlayer.src = episode.url; }
            currentEpisodeTitle.textContent = `You are watching ${episode.title}`;
            
            document.querySelectorAll('.episode-item').forEach((item, idx) => {
                item.classList.toggle('current', idx === currentIndex);
            });
            
            downloadLinksTbody.innerHTML = `
                <tr>
                    <td data-label=\"Episode\">Episode ${episode.number}</td>
                    <td data-label=\"Quality\">1080p</td>
                    <td data-label=\"Video\"><a href=\"#\" class=\"download-btn\"><i class=\"fas fa-download\"></i> Download</a></td>
                    <td data-label=\"Subtitles\"><a href=\"#\" class=\"download-btn\"><i class=\"fas fa-closed-captioning\"></i> Download</a></td>
                </tr>`;

            prevBtn.disabled = currentIndex === 0;
            nextBtn.disabled = currentIndex === totalEpisodes - 1;
        }

        function generateEpisodeList() {
            episodeData.forEach((ep, index) => {
                episodeListContainer.innerHTML += `<a class=\"episode-item\" data-index=\"${index}\"><div class=\"ep-info\"><p class=\"ep-number\">EP ${ep.number}</p><p class=\"ep-desc\">${ep.title}</p></div></a>`;
            });
        }
        
        episodeListContainer.addEventListener('click', (e) => {
            const item = e.target.closest('.episode-item');
            if (item) updateUI(parseInt(item.dataset.index));
        });

        prevBtn.addEventListener('click', () => { if (currentIndex > 0) updateUI(currentIndex - 1); });
        nextBtn.addEventListener('click', () => { if (currentIndex < totalEpisodes - 1) updateUI(currentIndex + 1); });

        generateEpisodeList();
        updateUI(0);

        const synopsisText = document.getElementById('synopsis-text');
        const readMoreBtn = document.getElementById('read-more-btn');
        if (synopsisText && readMoreBtn) {
            readMoreBtn.addEventListener('click', (e) => {
                e.preventDefault();
                synopsisText.classList.toggle('truncated');
                readMoreBtn.textContent = synopsisText.classList.contains('truncated') ? 'Read More' : 'Read Less';
            });
        }
    });
    </script>
</body>
</html>