<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch Legend of the Blue Sea - DramaKan</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ¬</text></svg>">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        /* === GLOBAL STYLES === */
        :root {
            --primary-color: #8A2BE2;
            --secondary-color: #E50914;
            --background-color: #0B0C10;
            --surface-color: #1A1A1D;
            --text-color: #F5F5F5;
            --text-muted-color: #a0a0a0;
            --border-color: #2c2c34;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .btn {
            padding: 8px 15px;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            border: 1px solid var(--primary-color);
        }
        .btn-primary:hover {
            background-color: transparent;
            color: var(--primary-color);
        }
        
        .section-header {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        /* Header / Navbar */
        .main-header {
            background-color: rgba(11, 12, 16, 0.8);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
        }

        .main-header .container {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
        }

        .logo span {
            color: var(--primary-color);
        }

        /* Footer */
        .main-footer {
            background-color: var(--surface-color);
            padding: 40px 0 20px;
            margin-top: 40px;
            border-top: 1px solid var(--border-color);
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .footer-socials a {
            font-size: 1.5rem;
            margin: 0 10px;
            color: var(--text-muted-color);
            transition: color 0.3s;
        }
        
        .footer-socials a:hover {
            color: var(--primary-color);
        }

        .footer-bottom {
            text-align: center;
            font-size: 0.9rem;
            color: var(--text-muted-color);
            border-top: 1px solid var(--border-color);
            padding-top: 20px;
        }
        
        /* Drama Card Grid (for related section) */
        .drama-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
        }
        
        .drama-card {
            background-color: var(--surface-color);
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        
        .drama-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }

        .drama-card-img img {
            width: 100%;
            aspect-ratio: 2/3;
            object-fit: cover;
        }

        .drama-card-info {
            padding: 10px;
        }

        .drama-card-title {
            font-size: 1rem;
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        /* === STYLES FOR DETAIL PAGE === */

        /* Top Banner Section */
        .drama-hero {
            position: relative;
            height: 400px;
            margin-bottom: -150px;
        }
        
        .hero-bg {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .hero-bg img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .hero-bg::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, var(--background-color) 0%, rgba(11,12,16,0.5) 100%);
        }
        
        /* Main Drama Info Section */
        .drama-main-content {
            position: relative;
            z-index: 10;
            display: flex;
            align-items: flex-start;
            gap: 30px;
        }
        
        .drama-poster {
            flex-shrink: 0;
            width: 250px;
        }
        
        .drama-poster img {
            width: 100%;
            border-radius: 8px;
            border: 2px solid var(--border-color);
        }
        
        .drama-poster .btn {
            width: 100%;
            text-align: center;
            margin-top: 15px;
            font-size: 1.2rem;
            padding: 12px;
        }

        .drama-details {
            padding-top: 50px;
        }
        
        .drama-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .synopsis {
            color: var(--text-muted-color);
            margin-bottom: 20px;
        }
        
        .info-block {
            background-color: var(--surface-color);
            padding: 20px;
            border-radius: 8px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .info-block p {
            font-size: 0.9rem;
        }
        
        .info-block span {
            font-weight: 600;
            color: var(--text-color);
            margin-right: 8px;
        }
        
        .genre-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .genre-tags a {
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            transition: background-color 0.3s, color 0.3s;
        }

        .genre-tags a:hover {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Cast Section */
        .cast-section {
            margin-top: 40px;
        }
        
        .cast-list-wrapper {
            overflow-x: auto;
            padding-bottom: 15px; /* space for scrollbar */
        }
        
        .cast-list-wrapper::-webkit-scrollbar { height: 8px; }
        .cast-list-wrapper::-webkit-scrollbar-track { background: var(--surface-color); border-radius: 4px; }
        .cast-list-wrapper::-webkit-scrollbar-thumb { background: #4f4f5a; border-radius: 4px; }
        .cast-list-wrapper::-webkit-scrollbar-thumb:hover { background: var(--primary-color); }

        .cast-list {
            display: flex;
            gap: 15px;
        }
        
        .cast-card {
            flex: 0 0 140px;
            width: 140px;
            background-color: var(--surface-color);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .cast-card img {
            width: 100%;
            aspect-ratio: 2/3;
            object-fit: cover;
            object-position: center top;
        }
        
        .cast-info { padding: 10px; }
        
        .actor-name {
            font-size: 0.9rem;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .character-name {
            font-size: 0.8rem;
            color: var(--text-muted-color);
        }

        /* Episodes Section */
        .episodes-section { margin-top: 40px; }
        
        .episode-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
        }
        
        .episode-btn {
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            color: var(--text-muted-color);
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            transition: background-color 0.3s, color 0.3s;
        }

        .episode-btn:hover {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        /* Related Dramas Section */
        .related-dramas { margin-top: 50px; }
        
        /* Bottom Disclaimer */
        .bottom-disclaimer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            color: var(--text-muted-color);
            font-style: italic;
            font-size: 0.9rem;
            border-top: 1px solid var(--border-color);
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .drama-hero {
                height: 300px;
                margin-bottom: 0;
            }

            .drama-main-content {
                flex-direction: column;
                align-items: center;
                text-align: center;
                margin-top: -120px;
            }

            .drama-poster { width: 200px; }
            .drama-details { padding-top: 20px; }

            .info-block {
                grid-template-columns: 1fr;
                text-align: left;
            }
            
            .genre-tags { justify-content: center; }
        }
    </style>
</head>
<body>

    <header class="main-header">
        <div class="container">
            <a href="index.html" class="logo">Drama<span>Kan</span></a>
        </div>
    </header>

    <main>
        <section class="drama-hero">
            <div class="hero-bg">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRY2yCrf7xyyoT-F157TCsgUEj-AyCcPsLve3cH6Hw8C0rr92MyJBq53KYnf_EWmScvDA8&usqp=CAU" alt="Legend of the Blue Sea Banner">
            </div>
        </section>

        <section class="drama-main-content container">
            <div class="drama-poster">
                <img src="https://m.media-amazon.com/images/M/MV5BMDlhOGNhNGQtZTM3Mi00NWJmLTg0ODItZDJkYjExZGMyNjI3XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" alt="Legend of the Blue Sea Poster">
                <a href="#" class="btn btn-primary"><i class="fas fa-play"></i> Watch Now</a>
            </div>
            <div class="drama-details">
                <h1 class="drama-title">Legend of the Blue Sea</h1>
                <p class="synopsis">
                    Inspired by a classic Joseon legend, this drama tells the love story of the world's last mermaid, Shim Cheong, and a genius con-man, Heo Joon-jae. Their fates are intertwined with their past-life incarnations, a nobleman named Kim Dam-ryeong and the mermaid Se-hwa. As Shim Cheong navigates the strange modern world, Joon-jae finds himself drawn to her, uncovering a story of love and sacrifice that spans centuries.
                </p>
                <div class="info-block">
                    <p><span>Type:</span> K-Drama</p>
                    <p><span>Status:</span> Finished Airing</p>
                    <p><span>Aired:</span> Nov 16, 2016 to Jan 25, 2017</p>
                    <p><span>Episodes:</span> 20</p>
                    <p><span>Network:</span> SBS</p>
                    <p><span>Duration:</span> 1 hr.</p>
                    <p><span>Country:</span> South Korea</p>
                    <p><span>Score:</span> 8.4/10</p>
                    <p><span>Director:</span> Jin Hyuk</p>
                    <p><span>Screenwriter:</span> Park Ji-eun</p>
                </div>
                <div class="genre-tags">
                    <a href="#">Comedy</a>
                    <a href="#">Romance</a>
                    <a href="#">Fantasy</a>
                </div>
            </div>
        </section>

        <section class="cast-section container">
            <h2 class="section-header">Cast</h2>
            <div class="cast-list-wrapper">
                <div class="cast-list">
                    <div class="cast-card">
                        <img src="https://image.tmdb.org/t/p/w300/1oRyb2H72i89yVpMWs4a3aFuP3A.jpg" alt="Lee Min-ho">
                        <div class="cast-info">
                            <h4 class="actor-name">Lee Min-ho</h4>
                            <p class="character-name">Heo Joon-jae</p>
                        </div>
                    </div>
                    <div class="cast-card">
                        <img src="https://image.tmdb.org/t/p/w300/g9LhE3s3a99tWEaB3ZlhpJIP3uP.jpg" alt="Jun Ji-hyun">
                        <div class="cast-info">
                            <h4 class="actor-name">Jun Ji-hyun</h4>
                            <p class="character-name">Shim Cheong</p>
                        </div>
                    </div>
                    <div class="cast-card">
                        <img src="https://image.tmdb.org/t/p/w300/e9QW5ydf71822V4Y18Jj1QLt7Jq.jpg" alt="Lee Hee-joon">
                        <div class="cast-info">
                            <h4 class="actor-name">Lee Hee-joon</h4>
                            <p class="character-name">Jo Nam-doo</p>
                        </div>
                    </div>
                    <div class="cast-card">
                        <img src="https://image.tmdb.org/t/p/w300/oFfxCSbv4RYZprL6oy2CqrGg4N2.jpg" alt="Shin Won-ho">
                        <div class="cast-info">
                            <h4 class="actor-name">Shin Won-ho</h4>
                            <p class="character-name">Tae-oh</p>
                        </div>
                    </div>
                    <div class="cast-card">
                        <img src="https://image.tmdb.org/t/p/w300/s9YVqO2qG1G59P72y52Y1O8n9h9.jpg" alt="Shin Hye-sun">
                        <div class="cast-info">
                            <h4 class="actor-name">Shin Hye-sun</h4>
                            <p class="character-name">Cha Shi-ah</p>
                        </div>
                    </div>
                    <div class="cast-card">
                        <img src="https://image.tmdb.org/t/p/w300/3UckYyryoQ2bBsJUoiSt0LppLq.jpg" alt="Lee Ji-hoon">
                        <div class="cast-info">
                            <h4 class="actor-name">Lee Ji-hoon</h4>
                            <p class="character-name">Heo Chi-hyun</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="episodes-section container">
            <h2 class="section-header">Episodes</h2>
            <div class="episode-list">
                <a href="#" class="episode-btn">Ep 1</a><a href="#" class="episode-btn">Ep 2</a><a href="#" class="episode-btn">Ep 3</a><a href="#" class="episode-btn">Ep 4</a><a href="#" class="episode-btn">Ep 5</a><a href="#" class="episode-btn">Ep 6</a><a href="#" class="episode-btn">Ep 7</a><a href="#" class="episode-btn">Ep 8</a><a href="#" class="episode-btn">Ep 9</a><a href="#" class="episode-btn">Ep 10</a><a href="#" class="episode-btn">Ep 11</a><a href="#" class="episode-btn">Ep 12</a><a href="#" class="episode-btn">Ep 13</a><a href="#" class="episode-btn">Ep 14</a><a href="#" class="episode-btn">Ep 15</a><a href="#" class="episode-btn">Ep 16</a><a href="#" class="episode-btn">Ep 17</a><a href="#" class="episode-btn">Ep 18</a><a href="#" class="episode-btn">Ep 19</a><a href="#" class="episode-btn">Ep 20</a>
            </div>
        </section>
        
        <section class="related-dramas container">
            <h2 class="section-header">You Might Also Like</h2>
            <div class="drama-grid">
                <a href="#" class="drama-card">
                    <div class="drama-card-img"><img src="https://image.tmdb.org/t/p/w500/5CE1PZGSqr86m6J2yK25x9s65Ay.jpg" alt="My Love from the Star"></div>
                    <div class="drama-card-info"><h3 class="drama-card-title">My Love from the Star</h3></div>
                </a>
                <a href="#" class="drama-card">
                    <div class="drama-card-img"><img src="https://image.tmdb.org/t/p/w500/314mS2WfDgbW5s3TzRifvS0xJET.jpg" alt="Goblin"></div>
                    <div class="drama-card-info"><h3 class="drama-card-title">Guardian: The Lonely and Great God</h3></div>
                </a>
                <a href="#" class="drama-card">
                    <div class="drama-card-img"><img src="https://image.tmdb.org/t/p/w500/gHnF3C5EaTcNWkLSrBscs1Zp2bN.jpg" alt="The King: Eternal Monarch"></div>
                    <div class="drama-card-info"><h3 class="drama-card-title">The King: Eternal Monarch</h3></div>
                </a>
                <a href="#" class="drama-card">
                    <div class="drama-card-img"><img src="https://image.tmdb.org/t/p/w500/6y58iLKyb2SoK6a0zS0yQJ29o74.jpg" alt="Tale of the Nine Tailed"></div>
                    <div class="drama-card-info"><h3 class="drama-card-title">Tale of the Nine Tailed</h3></div>
                </a>
                 <a href="#" class="drama-card">
                    <div class="drama-card-img"><img src="https://image.tmdb.org/t/p/w500/yYw4zDFw6fL5d4yWgs2aImaC5nN.jpg" alt="Hotel Del Luna"></div>
                    <div class="drama-card-info"><h3 class="drama-card-title">Hotel Del Luna</h3></div>
                </a>
            </div>
        </section>

        <div class="bottom-disclaimer container">
            <p>Please note: All links provided for each episode on this page are for demonstrative purposes only. They are placeholders and do not lead to any video content, as this website is purely for informational and design showcase purposes to increase interaction.</p>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                 <a href="index.html" class="logo">Drama<span>Kan</span></a>
                 <div class="footer-socials">
                     <a href="#"><i class="fab fa-twitter"></i></a>
                     <a href="#"><i class="fab fa-discord"></i></a>
                     <a href="#"><i class="fab fa-telegram"></i></a>
                     <a href="#"><i class="fab fa-reddit"></i></a>
                 </div>
            </div>
            <div class="footer-bottom">
                 <p>&copy; 2025 DramaKan. All rights reserved. This site does not store any files on its server. All contents are provided by non-affiliated third parties.</p>
            </div>
        </div>
    </footer>
<script>
    // --- History Tracking Snippet ---
    document.addEventListener('DOMContentLoaded', function() {
        // Function to update user history in localStorage
        function updateUserHistory(action, data) {
            const userString = localStorage.getItem('dramaKanUser');
            if (userString) {
                let user = JSON.parse(userString);
                if (user.isLoggedIn) {
                    if (action === 'visit') {
                        // Avoid duplicate visits in a row
                        if (!user.visitedHistory.some(item => item.url === data.url)) {
                             user.visitedHistory.unshift(data); // Add to the beginning of the array
                        }
                        // Limit history to 10 items
                        if (user.visitedHistory.length > 10) {
                            user.visitedHistory.pop();
                        }
                    } else if (action === 'search') {
                        // Avoid duplicate searches in a row
                        if (user.searchHistory[0] !== data.term) {
                           user.searchHistory.unshift(data);
                        }
                        if (user.searchHistory.length > 10) {
                           user.searchHistory.pop();
                        }
                    }
                    localStorage.setItem('dramaKanUser', JSON.stringify(user));
                }
            }
        }

        // --- TRACKING LOGIC ---
        
        // 1. For Drama Detail Pages: Track the visit
        // Check if this is a drama detail page by looking for a specific element
        const dramaTitleElement = document.querySelector('.drama-title');
        if (dramaTitleElement) {
            const dramaData = {
                title: dramaTitleElement.textContent,
                url: window.location.pathname.split('/').pop() // Gets just the 'drama-name.html'
            };
            updateUserHistory('visit', dramaData);
        }

        // 2. For the Homepage: Track searches
        // Give your search form and input these IDs on index.html: id="search-form" and id="search-input"
        const searchForm = document.getElementById('search-form');
        if (searchForm) {
            searchForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Stop page from reloading
                const searchInput = document.getElementById('search-input');
                const searchTerm = searchInput.value.trim();
                if (searchTerm) {
                    updateUserHistory('search', searchTerm);
                    alert(`(For Demo) Search for "${searchTerm}" was recorded to your profile.`);
                    searchInput.value = ''; // Clear search bar
                }
            });
        }
    });
</script>
</body>
</html>